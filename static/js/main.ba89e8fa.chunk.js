(this["webpackJsonpminesweeper-randomwalk"]=this["webpackJsonpminesweeper-randomwalk"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(5),i=n.n(s),r=(n(15),n(2)),o=n(6),l=n(7),c=n(1),d=n(10),h=n(9),m=(n(16),n(0));function u(e,t,n,a){var s=0,i=a,r=a;try{t>0&&(n>0&&"\ud83d\udca3"===e[t-1][n-1]&&(s+=1),"\ud83d\udca3"===e[t-1][n]&&(s+=1),n<r-1&&"\ud83d\udca3"===e[t-1][n+1]&&(s+=1)),n>0&&"\ud83d\udca3"===e[t][n-1]&&(s+=1),n<r-1&&"\ud83d\udca3"===e[t][n+1]&&(s+=1),t<i-1&&n>0&&"\ud83d\udca3"===e[t+1][n-1]&&(s+=1),"\ud83d\udca3"===e[t+1][n]&&(s+=1),n<r-1&&"\ud83d\udca3"===e[t+1][n+1]&&(s+=1)}catch(o){}finally{return s}}var v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dimensions:9,maxTunnels:85,maxLength:45,revealed:!1,reset:!0,currMap:[],win:!1,lost:!1,showWin:!1,bombCounter:0,totalMoves:0,timer:0,timerStr:"00 : 00 : 00",playing:!0,timerStarted:!1},a.onChange=a.onChange.bind(Object(c.a)(a)),a.checkTiles=a.checkTiles.bind(Object(c.a)(a)),a.mapCheat=a.mapCheat.bind(Object(c.a)(a)),a.checkWin=a.checkWin.bind(Object(c.a)(a)),a.hideSHowWin=a.hideSHowWin.bind(Object(c.a)(a)),a.startTimer=a.startTimer.bind(Object(c.a)(a)),a.formatTime=a.formatTime.bind(Object(c.a)(a)),a.changePreset=a.changePreset.bind(Object(c.a)(a)),a.generateNew=a.generateNew.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"createArray",value:function(e,t){for(var n=[],a=0;a<t;a++){n.push([]);for(var s=0;s<t;s++)n[a].push(e)}return n}},{key:"onChange",value:function(e){"dimensions"!==e.target.name?e.target.value>0&&e.target.value<=1e3?this.setState(Object(r.a)({},e.target.name,this.validator(e.target.value))):e.target.value<1?this.setState(Object(r.a)({},e.target.name,1)):this.setState(Object(r.a)({},e.target.name,1e3)):e.target.value>2&&e.target.value<=100?this.setState(Object(r.a)({},e.target.name,this.validator(e.target.value))):e.target.value<3?this.setState(Object(r.a)({},e.target.name,3)):this.setState(Object(r.a)({},e.target.name,100))}},{key:"startTimer",value:function(){var e=this,t=setInterval((function(){e.state.playing?(e.setState({timer:e.state.timer+1}),e.formatTime()):clearInterval(t)}),1e3)}},{key:"formatTime",value:function(){var e="0".concat(this.state.timer%60).slice(-2),t="".concat(Math.floor(this.state.timer/60)),n="0".concat(t%60).slice(-2),a="0".concat(Math.floor(this.state.timer/3600)).slice(-2);this.setState({timerStr:"".concat(a," : ").concat(n," : ").concat(e)})}},{key:"validator",value:function(e){var t=Number(e);return isNaN(t)?0:t}},{key:"mapCheat",value:function(e){alert("Map printed to console"),console.log("=".repeat(25)),console.log("Revealing the map..."),console.log("=".repeat(25)),console.log(this.state.currMap)}},{key:"createMap",value:function(){for(var e,t=this.state.dimensions,n=this.state.maxTunnels,a=this.state.maxLength,s=this.createArray(1,t),i=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t),o=[[-1,0],[1,0],[0,-1],[0,1]],l=[];n&&t&&a;){do{e=o[Math.floor(Math.random()*o.length)]}while(e[0]===-l[0]&&e[1]===-l[1]||e[0]===l[0]&&e[1]===l[1]);for(var c=Math.ceil(Math.random()*a),d=0;d<c&&!(0===i&&-1===e[0]||0===r&&-1===e[1]||i===t-1&&1===e[0]||r===t-1&&1===e[1]);)s[i][r]=0,i+=e[0],r+=e[1],d++;d&&(l=e,n--)}for(var h=0,m=0;m<t;m++)for(var v=0;v<t;v++)1===s[m][v]?(s[m][v]="\ud83d\udca3",h++):s[m][v]="#";for(m=0;m<t;m++)for(v=0;v<t;v++)"\ud83d\udca3"!==s[m][v]&&(s[m][v]=u(s,m,v,t));return this.state.reset?this.setState({currMap:s,reset:!1,win:!1,lose:!1,showWin:!1,bombCounter:h,totalMoves:0,timer:0,timerStr:"00 : 00 : 00",playing:!0,timerStarted:!1}):s=this.state.currMap,s}},{key:"revealSurroundings",value:function(e,t,n){if(!(t<0||n<0||t>=this.state.dimensions||n>=this.state.dimensions)){try{if("\ud83d\udca3"!==e[t-1][n]){var a=document.getElementById("inner-"+(t-1)+"-"+n),s=document.getElementById(t-1+"-"+n);null!==a&&(a.className="revealed",""===a.innerHTML?"white"!==s.style.backgroundColor&&(s.style.backgroundColor="white",this.revealSurroundings(e,t-1,n)):s.style.backgroundColor="#f6d852")}}catch(h){}try{if("\ud83d\udca3"!==e[t+1][n]){var i=document.getElementById("inner-"+(t+1)+"-"+n),r=document.getElementById(t+1+"-"+n);null!==i&&(i.className="revealed",""===i.innerHTML?"white"!==r.style.backgroundColor&&(r.style.backgroundColor="white",this.revealSurroundings(e,t+1,n)):r.style.backgroundColor="#f6d852")}}catch(h){}try{if("\ud83d\udca3"!==e[t][n-1]){var o=document.getElementById("inner-"+t+"-"+(n-1)),l=document.getElementById(t+"-"+(n-1));null!==o&&(o.className="revealed",""===o.innerHTML?"white"!==l.style.backgroundColor&&(l.style.backgroundColor="white",this.revealSurroundings(e,t,n-1)):l.style.backgroundColor="#f6d852")}}catch(h){}try{if("\ud83d\udca3"!==e[t][n+1]){var c=document.getElementById("inner-"+t+"-"+(n+1)),d=document.getElementById(t+"-"+(n+1));null!==c&&(c.className="revealed",""===c.innerHTML?"white"!==d.style.backgroundColor&&(d.style.backgroundColor="white",this.revealSurroundings(e,t,n+1)):d.style.backgroundColor="#f6d852")}}catch(h){}}}},{key:"revealAll",value:function(){for(var e=0;e<this.state.dimensions;e++)for(var t=0;t<this.state.dimensions;t++)try{var n=document.getElementById(e+"-"+t),a=document.getElementById("inner-"+e+"-"+t);""===a.innerHTML?n.style.backgroundColor="white":"\ud83d\udca3"!==a.innerHTML&&(n.style.backgroundColor="#f6d852")}catch(s){}}},{key:"resetTiles",value:function(){for(var e=0;e<this.state.dimensions;e++)for(var t=0;t<this.state.dimensions;t++)try{var n=document.getElementById(e+"-"+t),a=document.getElementById("inner-"+e+"-"+t);n.style.border="",n.style.backgroundColor="",a.className="hidden"}catch(s){}}},{key:"generateNew",value:function(){this.setState({revealed:!1,reset:!0,map:this.createMap(),win:!1,lost:!1}),this.resetTiles()}},{key:"changePreset",value:function(e){console.log(e.target.value);var t=e.target.value;"Easy"===t?this.setState({dimensions:9,maxTunnels:85,maxLength:45}):"Medium"===t?this.setState({dimensions:16,maxTunnels:120,maxLength:60}):"Hard"===t?this.setState({dimensions:22,maxTunnels:200,maxLength:100}):"Very Hard"===t&&this.setState({dimensions:28,maxTunnels:220,maxLength:130})}},{key:"checkWin",value:function(){for(var e=!0,t=0;t<this.state.dimensions;t++)for(var n=0;n<this.state.dimensions;n++)try{var a=document.getElementById("inner-"+t+"-"+n);"\ud83d\udca3"!==a.innerHTML&&"hidden"===a.className&&(e=!1)}catch(s){}e?this.setState({win:!0,showWin:!0,revealed:!0,playing:!1}):this.setState({win:!1})}},{key:"hideSHowWin",value:function(){this.setState({showWin:!1})}},{key:"checkTiles",value:function(e){if(this.state.win)window.confirm("You have won the game! Would you like to reset?")&&(this.setState({revealed:!1,map:this.createMap(),reset:!0,win:!1}),this.resetTiles());else if(this.state.lost)window.confirm("You have lost the game! Would you like to reset?")&&(this.setState({revealed:!1,map:this.createMap(),reset:!0,lost:!1}),this.resetTiles());else if(this.state.timerStarted||(this.setState({timerStarted:!0}),this.startTimer()),!1===this.state.win)if("mines"===e.target.getAttribute("data-tiletype"))console.log("You lost!"),alert("You step on a mine. You lost!"),this.revealAll(),this.setState({revealed:!0,reset:!1,lost:!0,playing:!1});else{var t=document.getElementById("inner-"+e.target.id);if(null!==t&&"revealed"!==t.className){t.className="revealed";var n=document.getElementById(e.target.id);""===t.innerHTML?n.style.backgroundColor="white":n.style.backgroundColor="#f6d852";var a=e.target.id.split("-")[0],s=e.target.id.split("-")[1];this.revealSurroundings(this.state.currMap,a,s);var i=this.state.totalMoves;i++,this.setState({totalMoves:i}),this.forceUpdate(),this.checkWin()}}}},{key:"render",value:function(){for(var e=this,t=this.createMap(),n=document.getElementsByTagName("iframe"),a=0;a<n.length;a++)n[a].remove();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"form-group row text-center",children:[Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"dimensions"}),Object(m.jsx)("input",{className:"form-control",name:"dimensions",type:"number",min:"1",max:"1000",value:this.state.dimensions,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"maxTunnels"}),Object(m.jsx)("input",{className:"form-control",name:"maxTunnels",type:"number",min:"1",max:"1000",value:this.state.maxTunnels,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"maxLength"}),Object(m.jsx)("input",{className:"form-control",name:"maxLength",type:"number",min:"1",max:"1000",value:this.state.maxLength,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Preset"}),Object(m.jsxs)("select",{className:"form-control",name:"preset",onChange:this.changePreset,children:[Object(m.jsx)("option",{value:"Easy",children:"Easy (9x9)"}),Object(m.jsx)("option",{value:"Medium",children:"Medium (16x16)"}),Object(m.jsx)("option",{value:"Hard",children:"Hard (22x22)"}),Object(m.jsx)("option",{value:"Very Hard",children:"Very Hard (28x28)"})]})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Generate"}),Object(m.jsx)("input",{className:"form-control",type:"button",onClick:this.generateNew,value:"Regenerate"})]})]}),Object(m.jsx)("table",{className:"grid",children:Object(m.jsx)("thead",{children:t.map((function(t,n){return Object(m.jsx)("tr",{children:t.map((function(t,a){return Object(m.jsx)("td",{className:e.state.revealed?"cell-reveal":"cell-hidden",id:n+"-"+a,"data-tiletype":"\ud83d\udca3"===t?"mines":"notmines",onClick:e.checkTiles,children:Object(m.jsx)("span",{id:"inner-"+n+"-"+a,className:e.state.revealed?"revealed":"hidden","data-tiletype":"\ud83d\udca3"===t?"mines":"notmines",children:"\ud83d\udca3"===t?"\ud83d\udca3":0===t?"":t})},a)}))},n)}))})}),Object(m.jsxs)("div",{className:"form-group row text-center",children:[Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Status"}),Object(m.jsx)("input",{className:"form-control default-cursor",type:"button",value:this.state.win?"Win":this.state.lost?"Lost":"Playing"})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Bomb"}),Object(m.jsx)("input",{className:"form-control default-cursor",type:"button",value:this.state.bombCounter})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Moves"}),Object(m.jsx)("input",{className:"form-control default-cursor",type:"button",value:this.state.totalMoves})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Time"}),Object(m.jsx)("input",{className:"form-control default-cursor",type:"button",value:this.state.timerStr})]}),Object(m.jsxs)("div",{className:"inline",children:[Object(m.jsx)("label",{children:"Cheat"}),Object(m.jsx)("input",{className:"form-control",name:"cheat",type:"button",onClick:this.mapCheat,value:"Show"})]})]}),Object(m.jsx)("div",{className:this.state.showWin?"block":"hidden",id:"win-popup",children:Object(m.jsx)("div",{className:"popup",children:Object(m.jsxs)("div",{className:"popup-content",children:[Object(m.jsx)("h2",{children:"Congratulations! You Won the game!"}),Object(m.jsx)("input",{className:"form-control",type:"button",onClick:this.hideSHowWin,value:"Okay"})]})})})]})}}]),n}(a.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(m.jsx)(v,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/minesweeper-randomwalk",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/minesweeper-randomwalk","/service-worker.js");g?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):b(e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.ba89e8fa.chunk.js.map